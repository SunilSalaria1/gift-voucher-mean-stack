<!-- main content -->
<section class="container-fluid h-100">
    <div class="container">
        <div class="row">
            <div class="col-6">
                <mat-card class="border-0 bg-white p-3 confirmation-card position-absolute" appearance="outlined">
                    <mat-card-content class="text-center">
                        <img mat-card-image src="assets/images/success-message.png" />
                        <div class="text-dark mt-3">
                            <div class="banner-font fw-bold">
                                Congratulations!
                            </div>
                            <div class="mt-4">
                                <div>"Thank you for visiting! We're thrilled to let you know that your reward
                                    has been confirmed. </div>
                                <div>Get ready to enjoy your special treatâ€”it's our way of saying
                                    thanks!"</div>
                                <div>We'd love to hear your thoughts to make this experience even better.</div>
                            </div>
                            <div class="d-flex justify-content-center">
                                <div><a mat-flat-button [routerLink]="['/home']"
                                        class="bg-dark text-white py-4 px-5 shadow-sm button-mh-60 mt-4"
                                        (click)="logOut()">
                                        <mat-icon>celebration</mat-icon> <span>Back to Home</span></a>
                                </div>
                                <div><a mat-flat-button
                                        class="bg-dark text-white py-4 px-5 shadow-sm button-mh-60 mt-4 ms-3"
                                        (click)="openDialog()">
                                        <mat-icon>celebration</mat-icon> <span>Share Feedback</span></a>
                                </div>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</section>
<!-- /main content -->

<!-- dialog -->
<ng-template #content>
    <form [formGroup]="feedbackForm" (ngSubmit)="send()">
        <mat-dialog-content>
            <div class="text-center">
                <div>
                    <h4 class="mb-0">Give Feedback</h4>
                </div>
                <div>What do you think of the gifts?</div>
                <div class="mt-4">
                    <span *ngFor="let num of numbers; let i = index" class="badge mx-2 fw-bold"
                        [ngClass]="{ 'active': selectedNumber === num }" (click)="setActive(num)">
                        {{ num }}
                    </span>
                </div>
            </div>
            <div class="mt-5 px-2 pb-2">Do you have any thoughts you'd like to share?</div>
            <mat-form-field appearance="outline" class="d-block input-lg input">
                <textarea matInput formControlName="productDescription" rows="5" class="w-100"></textarea>
                <mat-error *ngIf="feedbackForm.get('productDescription')?.hasError('required')">
                    This is required.
                  </mat-error>
                  <mat-error *ngIf="feedbackForm.get('productDescription')?.hasError('maxlength')">
                    Maximum 200 characters allowed.
                  </mat-error>
            </mat-form-field>

            <!-- /form -->
        </mat-dialog-content>
        <mat-dialog-actions class="d-flex border-top border-light">
            <button mat-flat-button class="bg-danger py-3 shadow-sm button-mh-45 me-2"
                [mat-dialog-close]="true"><mat-icon>close</mat-icon>
                <span>Decline
                </span></button>
            <button mat-flat-button class="bg-success py-3 shadow-sm button-mh-45"  (click)="send()"
            ><mat-icon>check</mat-icon>
                <span>Send
                </span></button>
        </mat-dialog-actions>
    </form>
</ng-template>

<!-- /dialog -->